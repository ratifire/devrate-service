databaseChangeLog:
  - changeSet:
      id: 16-02-2024_02_add-foreign-key-email-confirmation-code
      author: Ivan Ivashchenko
      preConditions:
        - onFail: MARK_RAN
          comments: |
            Checks if the foreign key constraint 'fk_email_confirmation_code_user' does not 
            already exist on the "email_confirmation_code" table.
            Marks the changeSet as executed if the foreign key constraint exists.
          not:
            foreignKeyConstraintExists:
              foreignKeyName: fk_email_confirmation_code_user
              baseTableName: email_confirmation_code
      changes:
        - addForeignKeyConstraint:
            baseTableName: email_confirmation_code
            baseColumnNames: user_id
            constraintName: fk_email_confirmation_code_user
            referencedTableName: users
            referencedColumnNames: id