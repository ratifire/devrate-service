databaseChangeLog:
  - changeSet:
      id: 16-05-2024_09_add-foreign-key-niche-level-history

      author: Maksim Matveychuk
      preConditions:
        - onFail: MARK_RAN
          comments: |
            Checks if the foreign key constraint 'fk_niche-level-history' does not
            already exist on the "niche_level_history" table.
            Marks the changeSet as executed if the foreign key constraint exists.
          not:
            foreignKeyConstraintExists:
              foreignKeyName: fk_niche-level-history
              baseTableName: niche_level_history
      changes:
        - addForeignKeyConstraint:
            baseTableName: niche_level_history
            baseColumnNames: niche_id
            constraintName: fk_niche-level-history
            referencedTableName: niche
            referencedColumnNames: id